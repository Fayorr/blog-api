<%- include('partials/header') %>

<div style="max-width: 800px; margin: 0 auto;">
    <div class="dash-header">
        <h1>Edit Blog</h1>
        <a href="/dashboard" class="btn btn-secondary">Cancel</a>
    </div>

    <form action="/blogs/<%= blog._id %>?_method=PUT" method="POST" class="glass-ui">
        <div class="form-group">
            <label for="title">Blog Title</label>
            <input type="text" id="title" name="title" value="<%= blog.title %>" required>
        </div>

        <div class="form-group">
            <label for="description">Short Description</label>
            <textarea id="description" name="description" rows="2" placeholder="What is this story about?"><%= blog.description || '' %></textarea>
        </div>

        <div class="form-group">
            <label for="tags">Tags (comma separated)</label>
            <input type="text" id="tags" name="tags" value="<%= blog.tags %>" required>
        </div>

        <div class="form-group">
            <label for="body">Content (Markdown supported)</label>
            <textarea id="body" name="body" rows="12" required><%= blog.body %></textarea>
        </div>

        <div class="form-group">
            <label for="state">Publishing State</label>
            <select id="state" name="state">
                <option value="draft" <%= blog.state === 'draft' ? 'selected' : '' %>>Draft</option>
                <option value="published" <%= blog.state === 'published' ? 'selected' : '' %>>Published</option>
            </select>
        </div>

        <div style="padding-top: 2rem; border-top: 1px solid var(--border); margin-top: 2rem;">
            <button type="submit" class="btn btn-primary" style="width: 100%;">Update Blog</button>
        </div>
    </form>
</div>

<%- include('partials/footer') %>